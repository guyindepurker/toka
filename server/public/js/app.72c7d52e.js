(function(e){function t(t){for(var n,o,a=t[0],c=t[1],l=t[2],f=0,d=[];f<a.length;f++)o=a[f],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&d.push(i[o][0]),i[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,a=1;a<r.length;a++){var c=r[a];0!==i[c]&&(n=!1)}n&&(s.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},i={app:0},s=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var u=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"337d":function(e,t,r){e.exports=r.p+"img/arrow-left.f9a44e1c.svg"},"358e":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("main",{staticClass:"main-container"},[r("router-view")],1)])},s=[],o=r("2877"),a={},c=Object(o["a"])(a,i,s,!1,null,null,null),l=c.exports,u=r("9483");Object(u["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var f=r("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isSocketConnect?e.isLoading&&e.isSocketConnect?n("scanning",[n("return-button",{attrs:{slot:"header",title:"Scanning..."},on:{return:e.cancelAction},slot:"header"}),n("loader")],1):e.errorMsg?n("div",{staticClass:"flex center-center",on:{click:function(t){return e.resetErrorMsg()}}},[n("h1",{staticClass:"error-msg"},[e._v(e._s(e.errorMsg))])]):n("get-data",{on:{getData:e.loadData}}):n("section",{staticClass:"home flex column center-center"},[n("div",{staticClass:"flex column"},[n("img",{staticClass:"logo",attrs:{src:r("e347"),alt:"logo"}}),n("loader")],1)])},p=[],m=r("5530"),g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"get-data"},[r("logo"),r("div",{staticClass:"grow get-data-btn flex center-center",on:{click:function(t){return e.onGetData()}}},[r("h1",{staticClass:"start-btn"},[e._v("Start")])]),r("app-footer")],1)},h=[],y=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},v=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"main-logo"},[n("img",{staticClass:"logo",attrs:{src:r("6be8"),alt:"logo"}})])}],b={name:"app-logo"},_=b,C=Object(o["a"])(_,y,v,!1,null,null,null),k=C.exports,x=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},w=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("footer",{staticClass:"footer flex align-center space-between"},[r("span",{staticClass:"verison"},[e._v("Verison 1.0.0")]),r("span",{staticClass:"powered-by"},[e._v("Powered by myapp")])])}],S={name:"app-footer"},O=S,B=Object(o["a"])(O,x,w,!1,null,null,null),j=B.exports,$=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},M=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"loader-container flex center-center"},[r("div",{staticClass:"loader"})])}],E={},L=Object(o["a"])(E,$,M,!1,null,null,null),F=L.exports,N={name:"get-data",components:{logo:k,appFooter:j,loader:F},methods:{onGetData:function(){this.$emit("getData")}}},q=N,D=Object(o["a"])(q,g,h,!1,null,null,null),A=D.exports,P=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"scanning flex column"},[e._t("header"),e._t("default")],2)},J=[],T={name:"scaning-screen"},I=T,R=Object(o["a"])(I,P,J,!1,null,null,null),H=R.exports,G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"reutrun-button flex align-center",on:{click:e.onReturn}},[n("img",{attrs:{src:r("337d"),alt:"arrow left"}}),n("span",[e._v(e._s(e.title))])])},W=[],z={name:"return-button",props:{title:{type:String,default:"Return"}},methods:{onReturn:function(){this.$emit("return")}}},Q=z,V=Object(o["a"])(Q,G,W,!1,null,null,null),K=V.exports,U=r("2f62"),X={name:"Home",components:{getData:A,loader:F,scanning:H,returnButton:K},computed:Object(m["a"])({},Object(U["c"])(["isSocketConnect","isLoading","errorMsg"])),methods:Object(m["a"])(Object(m["a"])({},Object(U["b"])(["loadData","setupSocket"])),{},{cancelAction:function(){var e={users:[],cities:[],criteria:[]};this.$store.commit({type:"setData",data:e}),this.$store.commit({type:"setIsLoading",isLoading:!1})},resetErrorMsg:function(){this.$store.commit({type:"setErrorMsg",errorMsg:null})}}),created:function(){this.setupSocket()}},Y=X,Z=Object(o["a"])(Y,d,p,!1,null,null,null),ee=Z.exports,te=function(){var e=this,t=e.$createElement,r=e._self._c||t;return!e.isLoading&&e.users.length&&e.cities.length&&e.criteria.length?r("div",{staticClass:"toka-app"},[r("filter-by",{attrs:{cities:e.cities,criteria:e.criteria}}),e.filterBy?r("return-button",{attrs:{title:"Resultes"},on:{return:e.resetFilterBy}}):e._e(),r("user-list",{attrs:{users:e.usersToShow}})],1):r("loader")},re=[],ne=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"filter"},[r("div",{staticClass:"filter-header flex space-between"},[r("el-input",{attrs:{type:"text","prefix-icon":"el-icon-search",placeholder:"Quick search..."},on:{input:e.onSetFilterBy},model:{value:e.filterBy.query,callback:function(t){e.$set(e.filterBy,"query",t)},expression:"filterBy.query"}})],1),r("aside",{staticClass:"filter-sidebar"},[r("filter-category-container",{attrs:{title:"Criteria"}},[r("el-checkbox-group",{staticClass:"checkbox-list flex column",on:{change:e.onSetFilterBy},model:{value:e.filterBy.criteria,callback:function(t){e.$set(e.filterBy,"criteria",t)},expression:"filterBy.criteria"}},e._l(e.criteria,(function(e){return r("el-checkbox",{key:e.id,attrs:{value:e.criteria,label:"Criteria "+e.criteria}})})),1)],1),r("filter-category-container",{attrs:{title:"City"}},[r("el-checkbox-group",{staticClass:"checkbox-list flex column",on:{change:e.onSetFilterBy},model:{value:e.filterBy.cities,callback:function(t){e.$set(e.filterBy,"cities",t)},expression:"filterBy.cities"}},e._l(e.cities,(function(e){return r("el-checkbox",{key:e.id,attrs:{label:e.city}})})),1)],1)],1)])},ie=[],se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"filter-catergory-container"},[r("h3",{staticClass:"filter-title"},[e._v(e._s(e.title))]),e._t("default")],2)},oe=[],ae={name:"filter-catergory-container",props:{title:{type:String,default:""}}},ce=ae,le=Object(o["a"])(ce,se,oe,!1,null,null,null),ue=le.exports,fe={name:"filter-by",components:{filterCategoryContainer:ue},props:{criteria:{type:Array,requird:!0},cities:{type:Array,requird:!0}},data:function(){return{filterBy:this.emptyFilterBy()}},computed:{filterByFromStore:function(){return this.$store.getters.filterBy}},methods:{onSetFilterBy:function(){var e=JSON.parse(JSON.stringify(this.filterBy));this.$store.commit({type:"setFilterBy",filterBy:e})},emptyFilterBy:function(){return{cities:[],criteria:[],query:""}}},watch:{filterByFromStore:function(e){e||(this.filterBy=this.emptyFilterBy())}}},de=fe,pe=Object(o["a"])(de,ne,ie,!1,null,null,null),me=pe.exports,ge=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",{staticClass:"clean-list user-list flex column"},[r("li",{staticClass:"count"},[e._v(e._s(e.useresNumber))]),e._l(e.users,(function(e){return r("user-preview",{key:e.id,attrs:{user:e}})}))],2)},he=[],ye=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("li",{staticClass:"user-preview flex space-between align-center"},[r("div",{staticClass:"user-info-container flex align-center"},[r("div",{staticClass:"user-avatar-container flex center-center"},[r("img",{attrs:{src:e.userImg,alt:"user image"}})]),r("div",{staticClass:"user-details flex column"},[r("span",{staticClass:"user-city"},[e._v(e._s(e.user.city))]),r("span",{staticClass:"user-full-name"},[e._v(e._s(e.userFullName))])])]),r("div",{staticClass:"criteria-container flex center-center"},[e._v(" "+e._s(e.userCriteria)+" ")])])},ve=[],be=(r("99af"),{name:"user-preview",props:{user:{required:!0,type:Object}},computed:{userImg:function(){return"https://robohash.org/".concat(this.user.id,"?set=set5&size=56x56")},userFullName:function(){return"".concat(this.user.firstName," ").concat(this.user.lastName)},userCriteria:function(){return"criteria ".concat(this.user.criteria)}}}),_e=be,Ce=Object(o["a"])(_e,ye,ve,!1,null,null,null),ke=Ce.exports,xe={name:"user-list",props:{users:{required:!0,type:Array}},components:{userPreview:ke},computed:{useresNumber:function(){return"".concat(this.users.length," Found")}}},we=xe,Se=Object(o["a"])(we,ge,he,!1,null,null,null),Oe=Se.exports,Be={name:"Toka-app",components:{loader:F,filterBy:me,userList:Oe,returnButton:K},computed:Object(m["a"])({},Object(U["c"])(["filterBy","isLoading","users","cities","criteria","usersToShow"])),methods:Object(m["a"])({resetFilterBy:function(){this.$store.commit({type:"setFilterBy",filterBy:null})}},Object(U["b"])(["turnOffSocket"])),destroyed:function(){this.turnOffSocket()}},je=Be,$e=Object(o["a"])(je,te,re,!1,null,null,null),Me=$e.exports,Ee="wss://".concat(window.location.host),Le=new WebSocket(Ee),Fe={emit:Je,terminate:qe,on:De,off:Pe,getMessage:Ae,setup:Ne};function Ne(){Le||(Le=new WebSocket(Ee))}function qe(){Le.close(),Le=null}function De(e){Le.onmessage=e}function Ae(e){return JSON.parse(e)}function Pe(e,t){Le.removeEventListener(e,t)}function Je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=JSON.stringify({on:e,data:t});Le.send(r)}Fe.on((function(e){var t=e.data,r=Fe.getMessage(t);switch(r.on){case"is loading":var n=r.data.isLoading;We.commit({type:"setIsLoading",isLoading:n});break;case"get data":var i=r.data;We.commit({type:"setData",data:i}),Ve.push("/app");break;case"connection":We.commit({type:"setSocketConnect",isConnected:!0});break;case"error load data":var s=r.data.errorMsg;We.commit({type:"setErrorMsg",errorMsg:s});break;default:break}}));var Te={state:{socketConnected:!1,isLoading:!1,errorMsg:null},getters:{isSocketConnect:function(e){return e.socketConnected},isLoading:function(e){return e.isLoading},errorMsg:function(e){return e.errorMsg}},mutations:{setSocketConnect:function(e,t){var r=t.isConnected;e.socketConnected=r},setIsLoading:function(e,t){var r=t.isLoading;e.isLoading=r},setErrorMsg:function(e,t){var r=t.errorMsg;e.errorMsg=r}},actions:{setupSocket:function(){Fe.setup()},turnOffSocket:function(e){var t=e.commit;Fe.terminate(),t({type:"setSocketConnect",isConnected:!1})},loadData:function(){Fe.emit("load data")}}},Ie=(r("4de4"),r("caad"),r("2532"),r("ac1f"),r("466d"),{findMatchLowerCase:Re,findStrNumber:He});function Re(e,t){return e=e.toLowerCase(),t=t.toLowerCase(),e.includes(t)}function He(e){var t=e.match(/\d+/);return+t}var Ge={state:{filterBy:null,users:[],cities:[],criteria:[]},getters:{usersToShow:function(e){var t=e.filterBy,r=JSON.parse(JSON.stringify(e.users));return null!==t&&void 0!==t&&t.criteria.length&&(r=r.filter((function(e){return t.criteria.some((function(t){return e.criteria===Ie.findStrNumber(t)}))}))),null!==t&&void 0!==t&&t.cities.length&&(r=r.filter((function(e){return t.cities.some((function(t){return Ie.findMatchLowerCase(e.city,t)}))}))),null!==t&&void 0!==t&&t.query&&(r=r.filter((function(e){var r="".concat(e.firstName," ").concat(e.lastName);return Ie.findMatchLowerCase(r,t.query)}))),r},users:function(e){return e.users},cities:function(e){return e.cities},criteria:function(e){return e.criteria},filterBy:function(e){return e.filterBy}},mutations:{setData:function(e,t){var r=t.data,n=r.users,i=r.cities,s=r.criteria;e.users=n,e.cities=i,e.criteria=s},setFilterBy:function(e,t){var r=t.filterBy;e.filterBy=r}},actions:{}};n["default"].use(U["a"]);var We=new U["a"].Store({strict:!0,modules:{socketStore:Te,tokaStore:Ge}});n["default"].use(f["a"]);var ze=[{path:"/",name:"Home",component:ee},,{path:"/app",name:"TokaApp",component:Me,beforeEnter:function(e,t,r){var n=We.getters.users.length&&We.getters.cities.length&&We.getters.criteria.length;n?r():r({name:"Home"})}}],Qe=new f["a"]({mode:"history",base:"/",routes:ze}),Ve=Qe,Ke=r("5c96"),Ue=r.n(Ke);r("0fae"),r("358e");n["default"].config.productionTip=!1,n["default"].use(Ue.a),new n["default"]({router:Ve,store:We,render:function(e){return e(l)}}).$mount("#app")},"6be8":function(e,t,r){e.exports=r.p+"img/logo-text.365089a5.svg"},e347:function(e,t,r){e.exports=r.p+"img/logo.3318b717.svg"}});
//# sourceMappingURL=app.72c7d52e.js.map